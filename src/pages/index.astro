---
import Layout from '~/layouts/PageLayout.astro';
import Hero from '~/components/widgets/Hero.astro';
import StructuredData from '~/components/common/StructuredData.astro';

import BlogLatestPosts from '~/components/widgets/sight/BlogLatestPosts.astro';
import { findLatestPostsByTag } from '../utils/blog';

const metadata = {
  title: 'SightStudio 블로그',
  ignoreTitleTemplate: true,
};

const mainPost = await findLatestPostsByTag({ tagSlug: 'display-main', count: 8 });
---

<Layout metadata={metadata}>
  <Hero
    actions={[
      {
        variant: 'secondary',
        text: 'Email',
        href: 'mailto:"sdm3285@gmail.com',
        target: '_blank',
        icon: 'tabler:mail',
        'data-nosnippet': true,
        'rel': 'nofollow noindex',
      },
      {
        variant: 'secondary',
        text: 'Github',
        href: 'https://github.com/SightStudio',
        target: '_blank',
        icon: 'tabler:brand-github',
        'data-nosnippet': true,
        'rel': 'nofollow noindex',
      },
    ]}
  >
    <Fragment slot="title">
      <span class="text-blue-500">👋 SightStudio</span> 블로그
    </Fragment>

    <Fragment slot="subtitle">
      <span class="hidden sm:block"> 소프트웨어 엔지니어로 일하며 마주한 문제들을 기록합니다. </span>

      <!-- 모바일 화면 노출부 -->
      <span class="block mb-1 sm:hidden font-bold" data-nosnippet> 개발자로 일하며 마주한 문제들을 기록합니다. </span>
    </Fragment>
  </Hero>

  <BlogLatestPosts title="읽어보면 좋은 글" information={``} linkText="더 많은 글 보기" posts={mainPost} />
  
  <StructuredData type="website" />
</Layout>
